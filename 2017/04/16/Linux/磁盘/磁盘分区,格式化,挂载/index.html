<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="linux," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="1.磁盘分区工具1.1.fdisk1.1.1.查看所有分区12345678910111213141516171819202122232425262728293031[root@lamp01 ~]# fdisk -l#第一块磁盘Disk /dev/sda: 8589 MB, 8589934592 bytes255 heads, 63 sectors/track, 1044 cylindersUnit">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="磁盘分区,格式化,挂载">
<meta property="og:url" content="http://yoursite.com/2017/04/16/Linux/磁盘/磁盘分区,格式化,挂载/index.html">
<meta property="og:site_name" content="Chen's Blog">
<meta property="og:description" content="1.磁盘分区工具1.1.fdisk1.1.1.查看所有分区12345678910111213141516171819202122232425262728293031[root@lamp01 ~]# fdisk -l#第一块磁盘Disk /dev/sda: 8589 MB, 8589934592 bytes255 heads, 63 sectors/track, 1044 cylindersUnit">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/8.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/9.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/10.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/11.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/12.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/13.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/14.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/15.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/16.png">
<meta property="og:updated_time" content="2017-02-24T17:09:32.565Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="磁盘分区,格式化,挂载">
<meta name="twitter:description" content="1.磁盘分区工具1.1.fdisk1.1.1.查看所有分区12345678910111213141516171819202122232425262728293031[root@lamp01 ~]# fdisk -l#第一块磁盘Disk /dev/sda: 8589 MB, 8589934592 bytes255 heads, 63 sectors/track, 1044 cylindersUnit">
<meta name="twitter:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/8.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/04/16/Linux/磁盘/磁盘分区,格式化,挂载/"/>





  <title> 磁盘分区,格式化,挂载 | Chen's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chen's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一个技术渣的自说自话</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/16/Linux/磁盘/磁盘分区,格式化,挂载/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr. Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                磁盘分区,格式化,挂载
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-16T12:47:25+08:00">
                2017-04-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-磁盘分区工具"><a href="#1-磁盘分区工具" class="headerlink" title="1.磁盘分区工具"></a>1.磁盘分区工具</h1><h2 id="1-1-fdisk"><a href="#1-1-fdisk" class="headerlink" title="1.1.fdisk"></a>1.1.fdisk</h2><h3 id="1-1-1-查看所有分区"><a href="#1-1-1-查看所有分区" class="headerlink" title="1.1.1.查看所有分区"></a>1.1.1.查看所有分区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">[root@lamp01 ~]# fdisk -l</div><div class="line">#第一块磁盘</div><div class="line">Disk /dev/sda: 8589 MB, 8589934592 bytes</div><div class="line">255 heads, 63 sectors/track, 1044 cylinders</div><div class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disk identifier: 0x000e7a75    </div><div class="line"></div><div class="line">   Device Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sda1   *           1          26      204800   83  Linux</div><div class="line">Partition 1 does not end on cylinder boundary.</div><div class="line">/dev/sda2              26          91      524288   82  Linux swap / Solaris</div><div class="line">Partition 2 does not end on cylinder boundary.</div><div class="line">/dev/sda3              91        1045     7658496   83  Linux</div><div class="line"> </div><div class="line">#第二块磁盘</div><div class="line">Disk /dev/sdb: 1073 MB, 1073741824 bytes</div><div class="line">255 heads, 63 sectors/track, 130 cylinders</div><div class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disk identifier: 0x000315a8    </div><div class="line"> </div><div class="line">   Device Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sdb1               1          13      102400   83  Linux</div><div class="line">Partition 1 does not end on cylinder boundary.</div><div class="line">/dev/sdb2              13          77      512000    5  Extended</div><div class="line">Partition 2 does not end on cylinder boundary.</div><div class="line">/dev/sdb5              14          39      204800   83  Linux</div><div class="line">/dev/sdb6              39          77      305152   83  Linux</div></pre></td></tr></table></figure>
<h3 id="1-1-2-给-dev-sdb分区"><a href="#1-1-2-给-dev-sdb分区" class="headerlink" title="1.1.2.给/dev/sdb分区"></a>1.1.2.给/dev/sdb分区</h3><h4 id="1-1-2-1-参数简绍"><a href="#1-1-2-1-参数简绍" class="headerlink" title="1.1.2.1.参数简绍"></a>1.1.2.1.参数简绍</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">[root@lamp01 ~]# fdisk /dev/sdb</div><div class="line"> </div><div class="line">WARNING: DOS-compatible mode is deprecated. It&apos;s strongly recommended to</div><div class="line">         switch off the mode (command &apos;c&apos;) and change display units to</div><div class="line">         sectors (command &apos;u&apos;).</div><div class="line">#警告的含义:DOS命令行已经过时,采用-c切换命令行,原来默认的磁盘最小单元为柱面,使用-u切换成扇区</div><div class="line"> </div><div class="line">Command (m for help): </div><div class="line"></div><div class="line"></div><div class="line">-m    # 帮助命令</div><div class="line">-p    #打印分区表</div><div class="line">-d    #删除分区</div><div class="line">-n    #添加分区</div><div class="line">-t    #改版分区类型</div><div class="line">-l    #查看分区类型</div><div class="line">-q    #不保存退出</div><div class="line">-w    #保存退出</div></pre></td></tr></table></figure>
<h4 id="1-1-2-2-新建一个扩展分区"><a href="#1-1-2-2-新建一个扩展分区" class="headerlink" title="1.1.2.2.新建一个扩展分区"></a>1.1.2.2.新建一个扩展分区</h4><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/8.png" alt="新建一个扩展分区" title="新建一个扩展分区"></p>
<h4 id="1-1-2-3-新建一个逻辑分区"><a href="#1-1-2-3-新建一个逻辑分区" class="headerlink" title="1.1.2.3.新建一个逻辑分区"></a>1.1.2.3.新建一个逻辑分区</h4><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/9.png" alt="新建一个逻辑分区" title="新建一个逻辑分区"></p>
<h4 id="1-1-2-4-改版分区类型"><a href="#1-1-2-4-改版分区类型" class="headerlink" title="1.1.2.4.改版分区类型"></a>1.1.2.4.改版分区类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Command (m for help): L  #查看所有的分区类型号</div><div class="line"> </div><div class="line"> 0  Empty           24  NEC DOS         81  Minix / old Lin bf  Solaris       </div><div class="line"> 1  FAT12           39  Plan 9          82  Linux swap / So c1  DRDOS/sec (FAT-</div><div class="line"> 2  XENIX root      3c  PartitionMagic  83  Linux           c4  DRDOS/sec (FAT-</div><div class="line"> 3  XENIX usr       40  Venix 80286     84  OS/2 hidden C:  c6  DRDOS/sec (FAT-</div><div class="line"> 4  FAT16 &lt;32M      41  PPC PReP Boot   85  Linux extended  c7  Syrinx        </div><div class="line"> 5  Extended        42  SFS             86  NTFS volume set da  Non-FS data   </div><div class="line"> 6  FAT16           4d  QNX4.x          87  NTFS volume set db  CP/M / CTOS / .</div><div class="line"> 7  HPFS/NTFS       4e  QNX4.x 2nd part 88  Linux plaintext de  Dell Utility  </div><div class="line"> 8  AIX             4f  QNX4.x 3rd part 8e  Linux LVM       df  BootIt        </div><div class="line"> 9  AIX bootable    50  OnTrack DM      93  Amoeba          e1  DOS access</div></pre></td></tr></table></figure>
<p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/10.png" alt="改变分区类型" title="改变分区类型"></p>
<h4 id="1-1-2-5-保存上面的分区操作"><a href="#1-1-2-5-保存上面的分区操作" class="headerlink" title="1.1.2.5.保存上面的分区操作"></a>1.1.2.5.保存上面的分区操作</h4><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/11.png" alt="改变分区类型" title="改变分区类型"></p>
<h4 id="1-1-2-6-使分区-dev-sdb生效-重读分区表"><a href="#1-1-2-6-使分区-dev-sdb生效-重读分区表" class="headerlink" title="1.1.2.6.使分区/dev/sdb生效(重读分区表)"></a>1.1.2.6.使分区/dev/sdb生效(重读分区表)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">partprobe /dev/sdb</div></pre></td></tr></table></figure>
<h3 id="1-1-3-非交互式-一次执行上面的操作"><a href="#1-1-3-非交互式-一次执行上面的操作" class="headerlink" title="1.1.3.非交互式,一次执行上面的操作"></a>1.1.3.非交互式,一次执行上面的操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">echo -e “n\np\n1\n\n+10G\nn\np\n2\n\n+20G\nw” |fdisk /dev/sdb</div></pre></td></tr></table></figure>
<h2 id="1-2-parted"><a href="#1-2-parted" class="headerlink" title="1.2.parted"></a>1.2.parted</h2><p>&emsp;简述：parted是一个磁盘分区的管理工具，他比fdisk更加的灵活，功能也更加的丰富，同时还支持GUID分区表,这在IA64平台上管理磁盘时非常有用，他同时支持交互模式和非交互模式，他除了能够进行分区的添加，删除等<br>常见操作外，还可以移动分区，制作文件系统，调整文件系统的大小。<br>&emsp;GPT分区全名：Globally Unique Identitier Partition Table Format ,指全局唯一标示磁盘分区表格式。由于MBR分区标的最大可寻址的存储空间只有2Tb(232*512字节)，因此在大硬盘出现的现在，MBR分区方式逐渐被GUID分区表取代。</p>
<p>parted 与fdisk区别:</p>
<ol>
<li>支持gpt分区表,可以对大于2T的磁盘分区</li>
<li>分区直接生效,不需要使用命令写入磁盘,最好partprobe /dev/sdb</li>
<li>格式化挂载等和fdisk无区别</li>
</ol>
<h3 id="1-2-1交互式"><a href="#1-2-1交互式" class="headerlink" title="1.2.1交互式"></a>1.2.1交互式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">[root@lamp01 ~]# parted /dev/sdb    #对/dev/sdb进行分区</div><div class="line">GNU Parted 2.1</div><div class="line">使用 /dev/sdb</div><div class="line">Welcome to GNU Parted! Type &apos;help&apos; to view a list of commands.</div><div class="line">(parted) p             #打印                                                   </div><div class="line">Model: VMware, VMware Virtual S (scsi)</div><div class="line">Disk /dev/sdb: 1074MB</div><div class="line">Sector size (logical/physical): 512B/512B</div><div class="line">Partition Table: msdos</div><div class="line"> </div><div class="line">Number  Start   End    Size   Type      File system  标志</div><div class="line"> 1      1049kB  106MB  105MB  primary   ext4</div><div class="line"> 2      106MB   630MB  524MB  extended</div><div class="line"> 5      107MB   317MB  210MB  logical</div><div class="line"> 6      318MB   630MB  312MB  logical</div><div class="line"> </div><div class="line">(parted)</div></pre></td></tr></table></figure>
<p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/12.png" alt="改变分区类型" title="改变分区类型"></p>
<h3 id="1-2-2添加分区-非交互式"><a href="#1-2-2添加分区-非交互式" class="headerlink" title="1.2.2添加分区:非交互式"></a>1.2.2添加分区:非交互式</h3><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/13.png" alt="非交互式" title="非交互式"></p>
<p> 其中mkfs是格式化,创建文件系统, mount是挂载</p>
<h3 id="1-2-3非交互式-忽略提示"><a href="#1-2-3非交互式-忽略提示" class="headerlink" title="1.2.3非交互式:忽略提示"></a>1.2.3非交互式:忽略提示</h3><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/14.png" alt="非交互式" title="非交互式"></p>
<h3 id="1-2-4-删除一个分区"><a href="#1-2-4-删除一个分区" class="headerlink" title="1.2.4.删除一个分区"></a>1.2.4.删除一个分区</h3><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/15.png" alt="删除一个分区" title="删除一个分区"></p>
<h3 id="1-2-5-退出"><a href="#1-2-5-退出" class="headerlink" title="1.2.5.退出"></a>1.2.5.退出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">quit</div></pre></td></tr></table></figure>
<h3 id="1-2-6-注意-gpt到msdos的转化"><a href="#1-2-6-注意-gpt到msdos的转化" class="headerlink" title="1.2.6.注意:gpt到msdos的转化"></a>1.2.6.注意:gpt到msdos的转化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">parted   /dev/sdb mklabel   msdos</div></pre></td></tr></table></figure>
<h1 id="2-格式化"><a href="#2-格式化" class="headerlink" title="2.格式化"></a>2.格式化</h1><p>&emsp;实质：就是创建文件系统<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">帮助：</div><div class="line">[root@data-1-2 ~]# mkfs.ext4 -help</div><div class="line">mkfs.ext4: invalid option -- &apos;h&apos;</div><div class="line">Usage: mkfs.ext4 [-c|-l filename] [-b block-size] [-f fragment-size]</div><div class="line">        [-i bytes-per-inode] [-I inode-size] [-J journal-options]</div><div class="line">        [-G meta group size] [-N number-of-inodes]</div><div class="line">        [-m reserved-blocks-percentage] [-o creator-os]</div><div class="line">        [-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]</div><div class="line">        [-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]</div><div class="line">        [-T fs-type] [-U UUID] [-jnqvFKSV] device [blocks-count]</div><div class="line"> </div><div class="line">-L 是指定卷标，相当于给分区取的名字，那么挂载的时候直接用卷标名来挂载</div><div class="line"></div><div class="line">[root@data-1-2 ~]# mkfs.ext4 -L MYDATA /dev/sdb3</div><div class="line">mke2fs 1.41.12 (17-May-2010)</div><div class="line">Filesystem label=MYDATA</div><div class="line">    ......</div></pre></td></tr></table></figure></p>
<blockquote>
<p>方式一</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@linux-study ~]# mkfs.ext4 /dev/sdb1</div></pre></td></tr></table></figure>
<blockquote>
<p>方式二</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkfs -t ext4 /dev/sdb1</div><div class="line"></div><div class="line">#可以指定iNode和block的大小,但是一般我们不指定</div><div class="line">mkfs -t ext4 -I 1024 -b 8192 /dev/sdb1</div></pre></td></tr></table></figure>
<p>格式化之后出现的提示：</p>
<p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/16.png" alt="格式化之后出现的提示" title="格式化之后出现的提示"></p>
<p>2次挂载或者180天之后会自动检查，我们可以取消他，如上图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">[root@data-1-2 ~]# mkfs.ext4 /dev/sdb1</div><div class="line">mke2fs 1.41.12 (17-May-2010)</div><div class="line">Filesystem label=</div><div class="line">OS type: Linux</div><div class="line">Block size=1024 (log=0)</div><div class="line">Fragment size=1024 (log=0)</div><div class="line">Stride=0 blocks, Stripe width=0 blocks</div><div class="line">130560 inodes, 522080 blocks</div><div class="line">26104 blocks (5.00%) reserved for the super user  #默认留5%的空间大小给超级管理员，-m指定</div><div class="line">First data block=1</div><div class="line">Maximum filesystem blocks=67633152</div><div class="line">64 block groups   #创建了64个块组</div><div class="line">8192 blocks per group, 8192 fragments per group  #每个块组8192个block</div><div class="line">2040 inodes per group</div><div class="line">Superblock backups stored on blocks:   #超级块备份在下面的组中</div><div class="line">        8193, 24577, 40961, 57345, 73729, 204801, 221185, 401409</div><div class="line"> </div><div class="line">Writing inode tables: done                           </div><div class="line">Creating journal (8192 blocks): done   #写日志完成</div><div class="line">Writing superblocks and filesystem accounting information: done</div><div class="line"> </div><div class="line">This filesystem will be automatically checked every 27 mounts or</div><div class="line">180 days, whichever comes first.  Use tune2fs -c or -i to override.</div></pre></td></tr></table></figure>
<blockquote>
<p>格式化交换分区</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#在格式化之前的分区，要指定分区类型t=82</div><div class="line">[root@data-1-2 tdir]# mkswap /dev/sdb4</div></pre></td></tr></table></figure>
<h1 id="3-挂载分区"><a href="#3-挂载分区" class="headerlink" title="3.挂载分区"></a>3.挂载分区</h1><p>实质：为文件系统指定访问入口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">[root@linux-study /]# mount /dev/sdb1 /mnt </div><div class="line">mount -a     #表示挂载/etc/fstab文件中所有的文件系统</div><div class="line">mount -n    #默认情况下，mount命令每挂载一个设备，都会将挂载的设备信息保存至 /etc/mtab</div><div class="line">而使用-n表示不将信息写入到/etc/mtab文件中</div><div class="line">mount -t 指定正在挂载的设备的文件系统类型，不指定默认是调用blkid /dev/sdb1来获取文件系统的类型</div><div class="line">mount -r 只读挂载</div><div class="line">mount -w 读写挂载</div><div class="line">mount -o 指定额外的挂载选项</div><div class="line">   async ：异步写入</div><div class="line">   atime：跟新inode的访问时间</div><div class="line">   auto：使用的是-a选项</div><div class="line">   default：包含：rw/suid/dev/exec/auto/nouser/async</div><div class="line"></div><div class="line">#检查挂载情况</div><div class="line">df -h 查看block大小</div><div class="line">df -i 查看inode</div><div class="line"></div><div class="line"></div><div class="line">#挂载交换分区</div><div class="line">[root@data-1-2 tdir]# swapon /dev/sdb4</div><div class="line">[root@data-1-2 tdir]# swapoff /dev/sdb4</div><div class="line"></div><div class="line"></div><div class="line">#挂载ISO镜像文件</div><div class="line">mount -o loop /root/tes.iso /media</div><div class="line">ll /media/</div><div class="line"></div><div class="line">#卸载：</div><div class="line">umount 设备/挂载点</div></pre></td></tr></table></figure>
<h1 id="4-设置开机自动挂载"><a href="#4-设置开机自动挂载" class="headerlink" title="4.设置开机自动挂载"></a>4.设置开机自动挂载</h1><p>开机时将自动挂载/etc/fstab下的挂载项<br>如果没有这一项，再次重启的时候，将不会自动挂载分区，那么将不能写入文件到该分区<br>vim /etc/fatab 添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/dev/sdb1 /mnt ext4 defaults 0 0</div></pre></td></tr></table></figure>
<h1 id="5-加载-etc-fstab进行挂载测试（很重要）"><a href="#5-加载-etc-fstab进行挂载测试（很重要）" class="headerlink" title="5.加载/etc/fstab进行挂载测试（很重要）"></a>5.加载/etc/fstab进行挂载测试（很重要）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mount -a</div><div class="line">   Mount all filesystems (of the given types) mentioned in fstab.</div><div class="line"></div><div class="line">#如果这里不进行测试，那么重启的时候，加载fatab可能机器起不来了，所以很重要</div></pre></td></tr></table></figure>
<h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><p>&emsp;如果我要将我的一块大硬盘暂时分成四个分区,同时,还希望有其他的空间可以让我在未来需要的时候再进行分区,那么该如何分区?<br>3p+1e(1L) 剩下的空间保留<br>2p+1e(2L) 剩下的空间保留<br>1p+1e(3L) 剩下的空间保留</p>
<p><a href="http://oldboy.blog.51cto.com/" target="_blank" rel="external">整理自老男孩</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/" rel="tag"># linux</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/16/mysql/Amoeba实现mysql读写分离(转)/" rel="next" title="Amoeba实现mysql读写分离(转)">
                <i class="fa fa-chevron-left"></i> Amoeba实现mysql读写分离(转)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/16/Linux/磁盘/磁盘介绍/" rel="prev" title="磁盘介绍">
                磁盘介绍 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/header.jpg"
               alt="Mr. Chen" />
          <p class="site-author-name" itemprop="name">Mr. Chen</p>
           
              <p class="site-description motion-element" itemprop="description">一个技术渣的自说自话</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">555</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">36</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-磁盘分区工具"><span class="nav-number">1.</span> <span class="nav-text">1.磁盘分区工具</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-fdisk"><span class="nav-number">1.1.</span> <span class="nav-text">1.1.fdisk</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-查看所有分区"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1.1.查看所有分区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-给-dev-sdb分区"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.1.2.给/dev/sdb分区</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-2-1-参数简绍"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">1.1.2.1.参数简绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-2-2-新建一个扩展分区"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">1.1.2.2.新建一个扩展分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-2-3-新建一个逻辑分区"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">1.1.2.3.新建一个逻辑分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-2-4-改版分区类型"><span class="nav-number">1.1.2.4.</span> <span class="nav-text">1.1.2.4.改版分区类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-2-5-保存上面的分区操作"><span class="nav-number">1.1.2.5.</span> <span class="nav-text">1.1.2.5.保存上面的分区操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-2-6-使分区-dev-sdb生效-重读分区表"><span class="nav-number">1.1.2.6.</span> <span class="nav-text">1.1.2.6.使分区/dev/sdb生效(重读分区表)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-非交互式-一次执行上面的操作"><span class="nav-number">1.1.3.</span> <span class="nav-text">1.1.3.非交互式,一次执行上面的操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-parted"><span class="nav-number">1.2.</span> <span class="nav-text">1.2.parted</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1交互式"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.2.1交互式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2添加分区-非交互式"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.2.2添加分区:非交互式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3非交互式-忽略提示"><span class="nav-number">1.2.3.</span> <span class="nav-text">1.2.3非交互式:忽略提示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-4-删除一个分区"><span class="nav-number">1.2.4.</span> <span class="nav-text">1.2.4.删除一个分区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-5-退出"><span class="nav-number">1.2.5.</span> <span class="nav-text">1.2.5.退出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-6-注意-gpt到msdos的转化"><span class="nav-number">1.2.6.</span> <span class="nav-text">1.2.6.注意:gpt到msdos的转化</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-格式化"><span class="nav-number">2.</span> <span class="nav-text">2.格式化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-挂载分区"><span class="nav-number">3.</span> <span class="nav-text">3.挂载分区</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-设置开机自动挂载"><span class="nav-number">4.</span> <span class="nav-text">4.设置开机自动挂载</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-加载-etc-fstab进行挂载测试（很重要）"><span class="nav-number">5.</span> <span class="nav-text">5.加载/etc/fstab进行挂载测试（很重要）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#案例"><span class="nav-number">6.</span> <span class="nav-text">案例</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr. Chen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
