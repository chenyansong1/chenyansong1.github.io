<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>磁盘分区,格式化,挂载 | Chen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1.磁盘分区工具1.1.fdisk1.1.1.查看所有分区12345678910111213141516171819202122232425262728293031[root@lamp01 ~]# fdisk -l#第一块磁盘Disk /dev/sda: 8589 MB, 8589934592 bytes255 heads, 63 sectors/track, 1044 cylindersUnit">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="磁盘分区,格式化,挂载">
<meta property="og:url" content="http://yoursite.com/2017/04/16/Linux/磁盘/磁盘分区,格式化,挂载/index.html">
<meta property="og:site_name" content="Chen's Blog">
<meta property="og:description" content="1.磁盘分区工具1.1.fdisk1.1.1.查看所有分区12345678910111213141516171819202122232425262728293031[root@lamp01 ~]# fdisk -l#第一块磁盘Disk /dev/sda: 8589 MB, 8589934592 bytes255 heads, 63 sectors/track, 1044 cylindersUnit">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/8.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/9.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/10.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/11.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/12.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/13.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/14.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/15.png">
<meta property="og:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/16.png">
<meta property="og:updated_time" content="2017-02-24T17:09:32.565Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="磁盘分区,格式化,挂载">
<meta name="twitter:description" content="1.磁盘分区工具1.1.fdisk1.1.1.查看所有分区12345678910111213141516171819202122232425262728293031[root@lamp01 ~]# fdisk -l#第一块磁盘Disk /dev/sda: 8589 MB, 8589934592 bytes255 heads, 63 sectors/track, 1044 cylindersUnit">
<meta name="twitter:image" content="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/8.png">
  
    <link rel="alternate" href="/atom.xml" title="Chen&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Chen&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一个技术渣的自说自话</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Linux/磁盘/磁盘分区,格式化,挂载" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/16/Linux/磁盘/磁盘分区,格式化,挂载/" class="article-date">
  <time datetime="2017-04-16T04:47:25.694Z" itemprop="datePublished">2017-04-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      磁盘分区,格式化,挂载
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-磁盘分区工具"><a href="#1-磁盘分区工具" class="headerlink" title="1.磁盘分区工具"></a>1.磁盘分区工具</h1><h2 id="1-1-fdisk"><a href="#1-1-fdisk" class="headerlink" title="1.1.fdisk"></a>1.1.fdisk</h2><h3 id="1-1-1-查看所有分区"><a href="#1-1-1-查看所有分区" class="headerlink" title="1.1.1.查看所有分区"></a>1.1.1.查看所有分区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">[root@lamp01 ~]# fdisk -l</div><div class="line">#第一块磁盘</div><div class="line">Disk /dev/sda: 8589 MB, 8589934592 bytes</div><div class="line">255 heads, 63 sectors/track, 1044 cylinders</div><div class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disk identifier: 0x000e7a75    </div><div class="line"></div><div class="line">   Device Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sda1   *           1          26      204800   83  Linux</div><div class="line">Partition 1 does not end on cylinder boundary.</div><div class="line">/dev/sda2              26          91      524288   82  Linux swap / Solaris</div><div class="line">Partition 2 does not end on cylinder boundary.</div><div class="line">/dev/sda3              91        1045     7658496   83  Linux</div><div class="line"> </div><div class="line">#第二块磁盘</div><div class="line">Disk /dev/sdb: 1073 MB, 1073741824 bytes</div><div class="line">255 heads, 63 sectors/track, 130 cylinders</div><div class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disk identifier: 0x000315a8    </div><div class="line"> </div><div class="line">   Device Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sdb1               1          13      102400   83  Linux</div><div class="line">Partition 1 does not end on cylinder boundary.</div><div class="line">/dev/sdb2              13          77      512000    5  Extended</div><div class="line">Partition 2 does not end on cylinder boundary.</div><div class="line">/dev/sdb5              14          39      204800   83  Linux</div><div class="line">/dev/sdb6              39          77      305152   83  Linux</div></pre></td></tr></table></figure>
<h3 id="1-1-2-给-dev-sdb分区"><a href="#1-1-2-给-dev-sdb分区" class="headerlink" title="1.1.2.给/dev/sdb分区"></a>1.1.2.给/dev/sdb分区</h3><h4 id="1-1-2-1-参数简绍"><a href="#1-1-2-1-参数简绍" class="headerlink" title="1.1.2.1.参数简绍"></a>1.1.2.1.参数简绍</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">[root@lamp01 ~]# fdisk /dev/sdb</div><div class="line"> </div><div class="line">WARNING: DOS-compatible mode is deprecated. It&apos;s strongly recommended to</div><div class="line">         switch off the mode (command &apos;c&apos;) and change display units to</div><div class="line">         sectors (command &apos;u&apos;).</div><div class="line">#警告的含义:DOS命令行已经过时,采用-c切换命令行,原来默认的磁盘最小单元为柱面,使用-u切换成扇区</div><div class="line"> </div><div class="line">Command (m for help): </div><div class="line"></div><div class="line"></div><div class="line">-m    # 帮助命令</div><div class="line">-p    #打印分区表</div><div class="line">-d    #删除分区</div><div class="line">-n    #添加分区</div><div class="line">-t    #改版分区类型</div><div class="line">-l    #查看分区类型</div><div class="line">-q    #不保存退出</div><div class="line">-w    #保存退出</div></pre></td></tr></table></figure>
<h4 id="1-1-2-2-新建一个扩展分区"><a href="#1-1-2-2-新建一个扩展分区" class="headerlink" title="1.1.2.2.新建一个扩展分区"></a>1.1.2.2.新建一个扩展分区</h4><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/8.png" alt="新建一个扩展分区" title="新建一个扩展分区"></p>
<h4 id="1-1-2-3-新建一个逻辑分区"><a href="#1-1-2-3-新建一个逻辑分区" class="headerlink" title="1.1.2.3.新建一个逻辑分区"></a>1.1.2.3.新建一个逻辑分区</h4><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/9.png" alt="新建一个逻辑分区" title="新建一个逻辑分区"></p>
<h4 id="1-1-2-4-改版分区类型"><a href="#1-1-2-4-改版分区类型" class="headerlink" title="1.1.2.4.改版分区类型"></a>1.1.2.4.改版分区类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Command (m for help): L  #查看所有的分区类型号</div><div class="line"> </div><div class="line"> 0  Empty           24  NEC DOS         81  Minix / old Lin bf  Solaris       </div><div class="line"> 1  FAT12           39  Plan 9          82  Linux swap / So c1  DRDOS/sec (FAT-</div><div class="line"> 2  XENIX root      3c  PartitionMagic  83  Linux           c4  DRDOS/sec (FAT-</div><div class="line"> 3  XENIX usr       40  Venix 80286     84  OS/2 hidden C:  c6  DRDOS/sec (FAT-</div><div class="line"> 4  FAT16 &lt;32M      41  PPC PReP Boot   85  Linux extended  c7  Syrinx        </div><div class="line"> 5  Extended        42  SFS             86  NTFS volume set da  Non-FS data   </div><div class="line"> 6  FAT16           4d  QNX4.x          87  NTFS volume set db  CP/M / CTOS / .</div><div class="line"> 7  HPFS/NTFS       4e  QNX4.x 2nd part 88  Linux plaintext de  Dell Utility  </div><div class="line"> 8  AIX             4f  QNX4.x 3rd part 8e  Linux LVM       df  BootIt        </div><div class="line"> 9  AIX bootable    50  OnTrack DM      93  Amoeba          e1  DOS access</div></pre></td></tr></table></figure>
<p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/10.png" alt="改变分区类型" title="改变分区类型"></p>
<h4 id="1-1-2-5-保存上面的分区操作"><a href="#1-1-2-5-保存上面的分区操作" class="headerlink" title="1.1.2.5.保存上面的分区操作"></a>1.1.2.5.保存上面的分区操作</h4><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/11.png" alt="改变分区类型" title="改变分区类型"></p>
<h4 id="1-1-2-6-使分区-dev-sdb生效-重读分区表"><a href="#1-1-2-6-使分区-dev-sdb生效-重读分区表" class="headerlink" title="1.1.2.6.使分区/dev/sdb生效(重读分区表)"></a>1.1.2.6.使分区/dev/sdb生效(重读分区表)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">partprobe /dev/sdb</div></pre></td></tr></table></figure>
<h3 id="1-1-3-非交互式-一次执行上面的操作"><a href="#1-1-3-非交互式-一次执行上面的操作" class="headerlink" title="1.1.3.非交互式,一次执行上面的操作"></a>1.1.3.非交互式,一次执行上面的操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">echo -e “n\np\n1\n\n+10G\nn\np\n2\n\n+20G\nw” |fdisk /dev/sdb</div></pre></td></tr></table></figure>
<h2 id="1-2-parted"><a href="#1-2-parted" class="headerlink" title="1.2.parted"></a>1.2.parted</h2><p>&emsp;简述：parted是一个磁盘分区的管理工具，他比fdisk更加的灵活，功能也更加的丰富，同时还支持GUID分区表,这在IA64平台上管理磁盘时非常有用，他同时支持交互模式和非交互模式，他除了能够进行分区的添加，删除等<br>常见操作外，还可以移动分区，制作文件系统，调整文件系统的大小。<br>&emsp;GPT分区全名：Globally Unique Identitier Partition Table Format ,指全局唯一标示磁盘分区表格式。由于MBR分区标的最大可寻址的存储空间只有2Tb(232*512字节)，因此在大硬盘出现的现在，MBR分区方式逐渐被GUID分区表取代。</p>
<p>parted 与fdisk区别:</p>
<ol>
<li>支持gpt分区表,可以对大于2T的磁盘分区</li>
<li>分区直接生效,不需要使用命令写入磁盘,最好partprobe /dev/sdb</li>
<li>格式化挂载等和fdisk无区别</li>
</ol>
<h3 id="1-2-1交互式"><a href="#1-2-1交互式" class="headerlink" title="1.2.1交互式"></a>1.2.1交互式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">[root@lamp01 ~]# parted /dev/sdb    #对/dev/sdb进行分区</div><div class="line">GNU Parted 2.1</div><div class="line">使用 /dev/sdb</div><div class="line">Welcome to GNU Parted! Type &apos;help&apos; to view a list of commands.</div><div class="line">(parted) p             #打印                                                   </div><div class="line">Model: VMware, VMware Virtual S (scsi)</div><div class="line">Disk /dev/sdb: 1074MB</div><div class="line">Sector size (logical/physical): 512B/512B</div><div class="line">Partition Table: msdos</div><div class="line"> </div><div class="line">Number  Start   End    Size   Type      File system  标志</div><div class="line"> 1      1049kB  106MB  105MB  primary   ext4</div><div class="line"> 2      106MB   630MB  524MB  extended</div><div class="line"> 5      107MB   317MB  210MB  logical</div><div class="line"> 6      318MB   630MB  312MB  logical</div><div class="line"> </div><div class="line">(parted)</div></pre></td></tr></table></figure>
<p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/12.png" alt="改变分区类型" title="改变分区类型"></p>
<h3 id="1-2-2添加分区-非交互式"><a href="#1-2-2添加分区-非交互式" class="headerlink" title="1.2.2添加分区:非交互式"></a>1.2.2添加分区:非交互式</h3><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/13.png" alt="非交互式" title="非交互式"></p>
<p> 其中mkfs是格式化,创建文件系统, mount是挂载</p>
<h3 id="1-2-3非交互式-忽略提示"><a href="#1-2-3非交互式-忽略提示" class="headerlink" title="1.2.3非交互式:忽略提示"></a>1.2.3非交互式:忽略提示</h3><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/14.png" alt="非交互式" title="非交互式"></p>
<h3 id="1-2-4-删除一个分区"><a href="#1-2-4-删除一个分区" class="headerlink" title="1.2.4.删除一个分区"></a>1.2.4.删除一个分区</h3><p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/15.png" alt="删除一个分区" title="删除一个分区"></p>
<h3 id="1-2-5-退出"><a href="#1-2-5-退出" class="headerlink" title="1.2.5.退出"></a>1.2.5.退出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">quit</div></pre></td></tr></table></figure>
<h3 id="1-2-6-注意-gpt到msdos的转化"><a href="#1-2-6-注意-gpt到msdos的转化" class="headerlink" title="1.2.6.注意:gpt到msdos的转化"></a>1.2.6.注意:gpt到msdos的转化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">parted   /dev/sdb mklabel   msdos</div></pre></td></tr></table></figure>
<h1 id="2-格式化"><a href="#2-格式化" class="headerlink" title="2.格式化"></a>2.格式化</h1><p>&emsp;实质：就是创建文件系统<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">帮助：</div><div class="line">[root@data-1-2 ~]# mkfs.ext4 -help</div><div class="line">mkfs.ext4: invalid option -- &apos;h&apos;</div><div class="line">Usage: mkfs.ext4 [-c|-l filename] [-b block-size] [-f fragment-size]</div><div class="line">        [-i bytes-per-inode] [-I inode-size] [-J journal-options]</div><div class="line">        [-G meta group size] [-N number-of-inodes]</div><div class="line">        [-m reserved-blocks-percentage] [-o creator-os]</div><div class="line">        [-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]</div><div class="line">        [-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]</div><div class="line">        [-T fs-type] [-U UUID] [-jnqvFKSV] device [blocks-count]</div><div class="line"> </div><div class="line">-L 是指定卷标，相当于给分区取的名字，那么挂载的时候直接用卷标名来挂载</div><div class="line"></div><div class="line">[root@data-1-2 ~]# mkfs.ext4 -L MYDATA /dev/sdb3</div><div class="line">mke2fs 1.41.12 (17-May-2010)</div><div class="line">Filesystem label=MYDATA</div><div class="line">    ......</div></pre></td></tr></table></figure></p>
<blockquote>
<p>方式一</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@linux-study ~]# mkfs.ext4 /dev/sdb1</div></pre></td></tr></table></figure>
<blockquote>
<p>方式二</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkfs -t ext4 /dev/sdb1</div><div class="line"></div><div class="line">#可以指定iNode和block的大小,但是一般我们不指定</div><div class="line">mkfs -t ext4 -I 1024 -b 8192 /dev/sdb1</div></pre></td></tr></table></figure>
<p>格式化之后出现的提示：</p>
<p><img src="http://ols7leonh.bkt.clouddn.com//assert/img/linux/磁盘/16.png" alt="格式化之后出现的提示" title="格式化之后出现的提示"></p>
<p>2次挂载或者180天之后会自动检查，我们可以取消他，如上图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">[root@data-1-2 ~]# mkfs.ext4 /dev/sdb1</div><div class="line">mke2fs 1.41.12 (17-May-2010)</div><div class="line">Filesystem label=</div><div class="line">OS type: Linux</div><div class="line">Block size=1024 (log=0)</div><div class="line">Fragment size=1024 (log=0)</div><div class="line">Stride=0 blocks, Stripe width=0 blocks</div><div class="line">130560 inodes, 522080 blocks</div><div class="line">26104 blocks (5.00%) reserved for the super user  #默认留5%的空间大小给超级管理员，-m指定</div><div class="line">First data block=1</div><div class="line">Maximum filesystem blocks=67633152</div><div class="line">64 block groups   #创建了64个块组</div><div class="line">8192 blocks per group, 8192 fragments per group  #每个块组8192个block</div><div class="line">2040 inodes per group</div><div class="line">Superblock backups stored on blocks:   #超级块备份在下面的组中</div><div class="line">        8193, 24577, 40961, 57345, 73729, 204801, 221185, 401409</div><div class="line"> </div><div class="line">Writing inode tables: done                           </div><div class="line">Creating journal (8192 blocks): done   #写日志完成</div><div class="line">Writing superblocks and filesystem accounting information: done</div><div class="line"> </div><div class="line">This filesystem will be automatically checked every 27 mounts or</div><div class="line">180 days, whichever comes first.  Use tune2fs -c or -i to override.</div></pre></td></tr></table></figure>
<blockquote>
<p>格式化交换分区</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#在格式化之前的分区，要指定分区类型t=82</div><div class="line">[root@data-1-2 tdir]# mkswap /dev/sdb4</div></pre></td></tr></table></figure>
<h1 id="3-挂载分区"><a href="#3-挂载分区" class="headerlink" title="3.挂载分区"></a>3.挂载分区</h1><p>实质：为文件系统指定访问入口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">[root@linux-study /]# mount /dev/sdb1 /mnt </div><div class="line">mount -a     #表示挂载/etc/fstab文件中所有的文件系统</div><div class="line">mount -n    #默认情况下，mount命令每挂载一个设备，都会将挂载的设备信息保存至 /etc/mtab</div><div class="line">而使用-n表示不将信息写入到/etc/mtab文件中</div><div class="line">mount -t 指定正在挂载的设备的文件系统类型，不指定默认是调用blkid /dev/sdb1来获取文件系统的类型</div><div class="line">mount -r 只读挂载</div><div class="line">mount -w 读写挂载</div><div class="line">mount -o 指定额外的挂载选项</div><div class="line">   async ：异步写入</div><div class="line">   atime：跟新inode的访问时间</div><div class="line">   auto：使用的是-a选项</div><div class="line">   default：包含：rw/suid/dev/exec/auto/nouser/async</div><div class="line"></div><div class="line">#检查挂载情况</div><div class="line">df -h 查看block大小</div><div class="line">df -i 查看inode</div><div class="line"></div><div class="line"></div><div class="line">#挂载交换分区</div><div class="line">[root@data-1-2 tdir]# swapon /dev/sdb4</div><div class="line">[root@data-1-2 tdir]# swapoff /dev/sdb4</div><div class="line"></div><div class="line"></div><div class="line">#挂载ISO镜像文件</div><div class="line">mount -o loop /root/tes.iso /media</div><div class="line">ll /media/</div><div class="line"></div><div class="line">#卸载：</div><div class="line">umount 设备/挂载点</div></pre></td></tr></table></figure>
<h1 id="4-设置开机自动挂载"><a href="#4-设置开机自动挂载" class="headerlink" title="4.设置开机自动挂载"></a>4.设置开机自动挂载</h1><p>开机时将自动挂载/etc/fstab下的挂载项<br>如果没有这一项，再次重启的时候，将不会自动挂载分区，那么将不能写入文件到该分区<br>vim /etc/fatab 添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/dev/sdb1 /mnt ext4 defaults 0 0</div></pre></td></tr></table></figure>
<h1 id="5-加载-etc-fstab进行挂载测试（很重要）"><a href="#5-加载-etc-fstab进行挂载测试（很重要）" class="headerlink" title="5.加载/etc/fstab进行挂载测试（很重要）"></a>5.加载/etc/fstab进行挂载测试（很重要）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mount -a</div><div class="line">   Mount all filesystems (of the given types) mentioned in fstab.</div><div class="line"></div><div class="line">#如果这里不进行测试，那么重启的时候，加载fatab可能机器起不来了，所以很重要</div></pre></td></tr></table></figure>
<h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><p>&emsp;如果我要将我的一块大硬盘暂时分成四个分区,同时,还希望有其他的空间可以让我在未来需要的时候再进行分区,那么该如何分区?<br>3p+1e(1L) 剩下的空间保留<br>2p+1e(2L) 剩下的空间保留<br>1p+1e(3L) 剩下的空间保留</p>
<p><a href="http://oldboy.blog.51cto.com/" target="_blank" rel="external">整理自老男孩</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/16/Linux/磁盘/磁盘分区,格式化,挂载/" data-id="cj290sbvv00nnssqqnei96nc0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/04/16/Linux/磁盘/磁盘介绍/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          磁盘介绍
        
      </div>
    </a>
  
  
    <a href="/2017/04/16/mysql/Amoeba实现mysql读写分离(转)/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Amoeba实现mysql读写分离(转)</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IDEA/">IDEA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/NFS/">NFS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tachyon/">Tachyon</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/azkaban/">azkaban</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/echarts/">echarts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/flume/">flume</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hbase/">hbase</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hive/">hive</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/inotify/">inotify</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kafka/">kafka</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/logstash/">logstash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/markdown/">markdown</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/memcached/">memcached</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/project/">project</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/rsync/">rsync</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/scala/">scala</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/shell/">shell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/socket/">socket</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark/">spark</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/sqoop/">sqoop</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/storm/">storm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据仓库/">数据仓库</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDEA/">IDEA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux基础命令/">Linux基础命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux重要配置文件/">Linux重要配置文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NFS/">NFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NIO/">NIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azkaban/">azkaban</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/echarts/">echarts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flume/">flume</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/">hbase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hive/">hive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inotify/">inotify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/logstash/">logstash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mapreduce/">mapreduce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/memcached/">memcached</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netty/">netty</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/project/">project</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rpc/">rpc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsync/">rsync</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala/">scala</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala函数式编程/">scala函数式编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala编程/">scala编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/">socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/">spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqoop/">sqoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/storm/">storm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据仓库/">数据仓库</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/IDEA/" style="font-size: 10px;">IDEA</a> <a href="/tags/Linux基础命令/" style="font-size: 19.52px;">Linux基础命令</a> <a href="/tags/Linux重要配置文件/" style="font-size: 14.76px;">Linux重要配置文件</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/NIO/" style="font-size: 11.43px;">NIO</a> <a href="/tags/azkaban/" style="font-size: 10.48px;">azkaban</a> <a href="/tags/echarts/" style="font-size: 10.95px;">echarts</a> <a href="/tags/flume/" style="font-size: 10.95px;">flume</a> <a href="/tags/hadoop/" style="font-size: 18.57px;">hadoop</a> <a href="/tags/hbase/" style="font-size: 13.33px;">hbase</a> <a href="/tags/hive/" style="font-size: 18.1px;">hive</a> <a href="/tags/inotify/" style="font-size: 10px;">inotify</a> <a href="/tags/java/" style="font-size: 12.38px;">java</a> <a href="/tags/kafka/" style="font-size: 12.86px;">kafka</a> <a href="/tags/linux/" style="font-size: 13.33px;">linux</a> <a href="/tags/logstash/" style="font-size: 10.48px;">logstash</a> <a href="/tags/mapreduce/" style="font-size: 16.67px;">mapreduce</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/memcached/" style="font-size: 13.81px;">memcached</a> <a href="/tags/mongodb/" style="font-size: 14.76px;">mongodb</a> <a href="/tags/mysql/" style="font-size: 17.14px;">mysql</a> <a href="/tags/netty/" style="font-size: 10.95px;">netty</a> <a href="/tags/nginx/" style="font-size: 14.29px;">nginx</a> <a href="/tags/project/" style="font-size: 10.48px;">project</a> <a href="/tags/python/" style="font-size: 19.05px;">python</a> <a href="/tags/redis/" style="font-size: 17.14px;">redis</a> <a href="/tags/rpc/" style="font-size: 10.48px;">rpc</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/scala/" style="font-size: 17.62px;">scala</a> <a href="/tags/scala函数式编程/" style="font-size: 11.9px;">scala函数式编程</a> <a href="/tags/scala编程/" style="font-size: 15.71px;">scala编程</a> <a href="/tags/shell/" style="font-size: 17.62px;">shell</a> <a href="/tags/socket/" style="font-size: 11.9px;">socket</a> <a href="/tags/spark/" style="font-size: 20px;">spark</a> <a href="/tags/sqoop/" style="font-size: 10.95px;">sqoop</a> <a href="/tags/storm/" style="font-size: 15.24px;">storm</a> <a href="/tags/zookeeper/" style="font-size: 16.19px;">zookeeper</a> <a href="/tags/数据仓库/" style="font-size: 11.43px;">数据仓库</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/05/02/bigdata/spark从入门到精通_笔记/Tachyon/">Tachyon</a>
          </li>
        
          <li>
            <a href="/2017/04/30/数据仓库/数据仓库2/">数据仓库</a>
          </li>
        
          <li>
            <a href="/2017/04/29/IDEA/IDEA/">IDEA</a>
          </li>
        
          <li>
            <a href="/2017/04/29/数据仓库/ETL/">ETL</a>
          </li>
        
          <li>
            <a href="/2017/04/28/数据仓库/PowderDesigner/">PowderDesigner的使用</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Mr. Chen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>




  </div>
</body>
</html>